---
const { images, title } = Astro.props;
---

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />

<div class="grid grid-cols-2 md:grid-cols-3 gap-4">
  {images.map((img) => (
    <a href={img} class="glightbox block">
      <img
        src={import.meta.env.PROD
          ? `/cdn-cgi/image/width=360,quality=50,format=auto/${encodeURIComponent(img)}`
          : img}
        width="360"
        height="240"
        loading="lazy"
        decoding="async"
        alt={title}
        class="w-full h-40 object-cover rounded-xl shadow-md hover:opacity-80 transition"
      />
    </a>
  ))}
</div>

<script type="module">
  import GLightbox from "https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js";

  GLightbox({
    selector: ".glightbox",
    loop: true,
    touchNavigation: true,
    zoomable: true,
  });
</script>

