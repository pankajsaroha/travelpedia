---
const { title, places = [] } = Astro.props;
---

{places.length > 0 && (
  <section class="space-y-4">

    <h2 class="text-xl font-bold text-slate-900 dark:text-white">
      {title}
    </h2>

    <swiper-container
        class="w-full premium-carousel"
        slides-per-view="auto"
        space-between="20"
        navigation="true"
        pagination="false"
    >

      {places.map((place) => (
        <swiper-slide class="premium-slide">
          <a
            href={`/place/${place.slug}`}
            class="group block rounded-2xl overflow-hidden
                   bg-white dark:bg-slate-800
                   shadow-md hover:shadow-xl transition"
          >

            <!-- IMAGE -->
            <div class="relative h-36 w-full overflow-hidden">
              <img
                src={place.images?.[0] || "/images/placeholder-1.svg"}
                alt={place.title}
                class="w-full h-full object-cover
                       transition-transform duration-500
                       group-hover:scale-105"
              />

              <div class="absolute bottom-0 left-0 right-0 h-16
                          bg-gradient-to-t from-black/60 to-transparent"></div>
            </div>

            <!-- CONTENT -->
            <div class="p-3">
              <h3 class="text-sm font-semibold text-slate-900 dark:text-white">
                {place.title}
              </h3>

              <p class="mt-1 text-xs text-slate-600 dark:text-slate-400 line-clamp-2">
                {place.excerpt}
              </p>
            </div>

          </a>
        </swiper-slide>
      ))}
    </swiper-container>

  </section>
)}

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
<script
  src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"
  client:load
></script>

<style>
  /* ðŸ”¥ THIS IS THE MAGIC */
  .premium-slide {
    width: 320px;        /* fixed card width */
  }

  @media (min-width: 640px) {
    .premium-slide {
      width: 260px;
    }
  }

  @media (min-width: 768px) {
    .premium-slide {
      width: 280px;
    }
  }

/* Swiper inner padding = visual balance */
.premium-carousel::part(wrapper) {
  padding-left: 24px;
  padding-right: 24px;
}

/* Card width */
.premium-slide {
  width: 300px;
}

/* Make arrows sit nicely inside */
swiper-container::part(button-prev),
swiper-container::part(button-next) {
  color: #0ea5a4;
}

/* Prevent arrow overlap on cards */
swiper-container::part(button-prev) {
  left: 8px;
}
swiper-container::part(button-next) {
  right: 8px;
}

</style>
